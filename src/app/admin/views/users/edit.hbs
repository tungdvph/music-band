{{!-- src/app/admin/views/users/edit.hbs --}}
{{!< layouts/admin}} <h1 class="mt-4 mb-4">Chỉnh Sửa Người Dùng</h1>

    {{#if errors}}
    <div class="alert alert-danger">
        <ul>
            {{#each errors}}
            <li>{{this.msg}}</li>
            {{/each}}
        </ul>
    </div>
    {{/if}}

    <form action="/admin/users/{{user._id}}?_method=PUT" method="POST">
        <div class="form-group">
            <label for="username">Tên đăng nhập:</label>
            <input type="text" id="username" name="username" class="form-control" value="{{user.username}}" disabled>
            <small class="form-text text-muted">Tên đăng nhập không thể thay đổi.</small>
        </div>

        <div class="form-group">
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" class="form-control" value="{{user.email}}" required>
        </div>

        <div class="form-group">
            <label for="fullName">Họ và tên:</label>
            <input type="text" id="fullName" name="fullName" class="form-control" value="{{user.fullName}}">
        </div>

        <div class="form-group">
            <label for="role">Vai trò:</label>
            <select id="role" name="role" class="form-control" required>
                <option value="user" {{#if (eq user.role 'user' )}}selected{{/if}}>User (Người dùng)</option>
                <option value="member" {{#if (eq user.role 'member' )}}selected{{/if}}>Member (Thành viên)</option>
                <option value="admin" {{#if (eq user.role 'admin' )}}selected{{/if}}>Admin (Quản trị viên)</option>
            </select>
        </div>

        <div class="form-group">
            <label for="password">Mật khẩu mới (để trống nếu không đổi):</label>
            <input type="password" id="password" name="password" class="form-control">
            <small class="form-text text-muted">Chỉ nhập mật khẩu mới nếu bạn muốn thay đổi.</small>
        </div>

        <button type="submit" class="btn btn-primary">Cập nhật</button>
        <a href="/admin/users" class="btn btn-secondary">Hủy</a>
    </form>